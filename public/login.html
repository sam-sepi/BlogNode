<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
        <p id="token"></p>
        <input type="text" name="username" id="username">
        <input type="password" name="password" id="password">
        <input type="submit" onclick="auth()">
        <script>
            async function auth()
            {
                let user = document.getElementById('username').value;
                let pass = document.getElementById('password').value;

                const request = await fetch("/auth", {
                    method: "post",
                    headers: new Headers({
                        "Content-Type": "application/json"
                    }),
                    body: JSON.stringify({
                        username: user,
                        password: pass
                    })
                })
                .then(response => {
                    response.json()
                        .then(responseJson => {

                            window.localStorage.setItem('token', responseJson.token);
                            document.getElementById('token').innerHTML = 'Your API KEY: ' + responseJson.token;
                        })
                }); 
            }
        </script>
    </body>
</html>