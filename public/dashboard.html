<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>

        <script>
            /*writePost();

            async function writePost()
            {
                const posting = await fetch('/article', {
                    method: "post",
                    headers: new Headers({
                        "Content-Type": "application/json"
                    }),
                    body: JSON.stringify({  
                        title: "A title",
                        text: "Text of post"
                    })
                });

                const response = await posting.json();
                console.log(response);
            };*/

            testJWT();

            function getCookie(name) {
                var value = "; " + document.cookie;
                var parts = value.split("; " + name + "=");
                if (parts.length == 2) return parts.pop().split(";").shift();
            }

            async function testJWT()
            {
                let jwt = 'blblblblbblbl'; /*getCookie('jwt');*/ 
                const request = await fetch('/article/dashboard', {
                    method: "get",
                    headers: new Headers({
                        'Authorization': 'Bearer ' + jwt
                    })
                });
                const response = await request.json();
                console.log(response);
            }
        </script>
    </body>
</html>